spring.application.name=api-gateway
server.port=8080
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/

# Enable service discovery for the gateway
spring.cloud.gateway.discovery.locator.enabled=true

# Route for employee-service (Authentication)
spring.cloud.gateway.routes[0].id=employee-service-auth
spring.cloud.gateway.routes[0].uri=lb://employee-service
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/auth/**, /api/user/**

# Route for payroll-service (All payroll related endpoints)
spring.cloud.gateway.routes[1].id=payroll-service
spring.cloud.gateway.routes[1].uri=lb://payroll-service
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/employees/**, /api/payroll/**, /api/attendance/**, /api/leaves/**, /api/dashboard/**

# CORS Configuration
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowedOrigins=*
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowedMethods=GET,POST,PUT,DELETE,OPTIONS
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowedHeaders=*

# Management endpoints
management.endpoints.web.exposure.include=*
management.endpoint.health.show-details=always

